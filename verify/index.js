#!/usr/bin/env node
/* Generated by Spago v0.93.44 */import __module from 'module';import __path from 'path';import __url from 'url';const require = __module.createRequire(import.meta.url);const __dirname = __path.dirname(__url.fileURLToPath(import.meta.url));const __filename=new URL(import.meta.url).pathname
function i(){throw new Error("Failed pattern match")}function bt(t,n){return n>0?Math.floor(t/n):n<0?-Math.floor(t/-n):0}var un=t=>n=>t;var Jn=t=>t;var Xt=typeof Array.prototype.flatMap=="function"?function(t){return function(n){return t.flatMap(n)}}:function(t){return function(n){for(var e=[],r=t.length,o=0;o<r;o++)for(var a=n(t[o]),u=a.length,l=0;l<u;l++)e.push(a[l]);return e}};var Vt=function(t){return t.toString()};var Kn=t=>t,rt=Kn(0),ot=Kn(1),_t=Kn(2);var R=(t,n)=>({tag:t,_1:n}),q=R(0),yt=t=>R(1,t);var Mt=(t,n)=>({tag:t,_1:n}),In=t=>Mt(0,t),cn=t=>Mt(1,t);var dn=(t,n)=>({tag:t,_1:n});var Ne=function(t){return function(n){return function(){return t(n())}}},qe=function(t){return function(){return t}};var Yr={map:Ne};var Xr={apply:t=>n=>()=>{let e=t(),r=n();return Ln.pure(e(r))()},Functor0:()=>Yr},Ln={pure:qe,Apply0:()=>Xr};var Zn=function(t,n,e){var r=t>=0&&t<e.length;return r&&(e[t]=n),r};var $n=function(t){return function(n){return function(e){for(var r=n,o=e.length,a=o-1;a>=0;a--)r=t(e[a])(r);return r}}},xn=function(t){return function(n){return function(e){for(var r=n,o=e.length,a=0;a<o;a++)r=t(r)(e[a]);return r}}};var ne=t=>{let n=t.Apply0();return e=>r=>e.foldr(o=>{let a=r(o);return u=>n.apply(n.Functor0().map(l=>Jn)(a))(u)})(t.pure())};var wn={foldr:t=>n=>e=>{if(e.tag===0)return n;if(e.tag===1)return t(e._1)(n);i()},foldl:t=>n=>e=>{if(e.tag===0)return n;if(e.tag===1)return t(n)(e._1);i()},foldMap:t=>{let n=t.mempty;return e=>r=>{if(r.tag===0)return n;if(r.tag===1)return e(r._1);i()}}};var Qt={foldr:$n,foldl:xn,foldMap:t=>{let n=t.mempty;return e=>Qt.foldr(r=>o=>t.Semigroup0().append(e(r))(o))(n)}};var $=(t,n)=>({_1:t,_2:n}),zt=t=>n=>$(t,n);var nn=t=>t._2;var Do=function(t){return function(n){return t===n}};var ke=Do;var Sn={eq:ke};var bo=function(t){return function(n){return function(e){return function(r){return function(o){return r<o?t:r===o?n:e}}}}};var Ue=bo;var ln={compare:Ue(rt)(_t)(ot),Eq0:()=>Sn};var pn=function(t,n){for(var e=t>n?-1:1,r=new Array(e*(n-t)+1),o=t,a=0;o!==n;)r[a++]=o,o+=e;return r[a]=o,r},Uo=function(t,n){if(t<1)return[];var e=new Array(t);return e.fill(n)},Bo=function(t,n){for(var e=[],r=0,o=0;o<t;o++)e[r++]=n;return e},mn=typeof Array.prototype.fill=="function"?Uo:Bo,ie=function(){function t(o,a){this.head=o,this.tail=a}var n={};function e(o){return function(a){return new t(o,a)}}function r(o){for(var a=[],u=0,l=o;l!==n;)a[u++]=l.head,l=l.tail;return a}return function(o,a){return r(o(e)(n)(a))}}();var ue=function(t,n,e,r,o){if(e<0||e>=o.length)return n;var a=o.slice();return a[e]=r,t(a)};var se=function(t,n){for(var e=n.length,r=0;r<e;r++)if(t(n[r]))return!0;return!1};var jo=ne(Ln);var Be=t=>{let n=jo(t);return e=>r=>{let o=[...r];return n(a=>{let u=a._2,l=a._1;return()=>Zn(l,u,o)})(e)(),o}};var je=function(t){return function(n){return function(e){var r;e<11?r="[0-"+(e-1).toString()+"]":e===11?r="[0-9a]":r="[0-9a-"+String.fromCharCode(86+e)+"]";var o=new RegExp("^[\\+\\-]?"+r+"+$","i");return function(a){if(o.test(a)){var u=parseInt(a,e);return(u|0)===u?t(u):n}else return n}}}};var Jo=je(yt)(q),ce=Jo(10);var Tt=(t,n)=>({_1:t,_2:n});var m=(t,n,e)=>({tag:t,_1:n,_2:e});var I=m(0),Lt=t=>n=>m(1,t,n);var xt=t=>(e=>r=>{let o=e,a=r,u=!0,l;for(;u;){let d=o,s=a;if(s.tag===1&&s._2.tag===1&&s._2._2.tag===1){o=m(1,s,d),a=s._2._2._2;continue}let p=b=>_=>{let y=b,c=_,D=!0,L;for(;D;){let E=y,h=c;if(E.tag===1&&E._1.tag===1&&E._1._2.tag===1&&E._1._2._2.tag===1){y=E._2,c=m(1,t(E._1._1),m(1,t(E._1._2._1),m(1,t(E._1._2._2._1),h)));continue}D=!1,L=h}return L};u=!1,l=p(d)((()=>{if(s.tag===1){if(s._2.tag===1)return s._2._2.tag===0?m(1,t(s._1),m(1,t(s._2._1),I)):I;if(s._2.tag===0)return m(1,t(s._1),I)}return I})())}return l})(I),de={map:xt};var ft={foldr:t=>n=>{let e=ft.foldl(a=>u=>t(u)(a))(n),o=(a=>u=>{let l=a,d=u,s=!0,p;for(;s;){let b=l,_=d;if(_.tag===0){s=!1,p=b;continue}if(_.tag===1){l=m(1,_._1,b),d=_._2;continue}i()}return p})(I);return a=>e(o(a))},foldl:t=>e=>r=>{let o=e,a=r,u=!0,l;for(;u;){let d=o,s=a;if(s.tag===0){u=!1,l=d;continue}if(s.tag===1){o=t(d)(s._1),a=s._2;continue}i()}return l},foldMap:t=>{let n=t.mempty;return e=>ft.foldl(r=>{let o=t.Semigroup0().append(r);return a=>o(e(a))})(n)}};var Qe={apply:t=>n=>{if(t.tag===0)return I;if(t.tag===1)return ft.foldr(Lt)(Qe.apply(t._2)(n))(xt(t._1)(n));i()},Functor0:()=>de};var gn={bind:t=>n=>{if(t.tag===0)return I;if(t.tag===1)return ft.foldr(Lt)(gn.bind(t._2)(n))(n(t._1));i()},Apply0:()=>Qe};var ze=function(t){return function(n){return n.split(t)}};var Je=function(t){return t.trim()};function Ht(t){return new Error(t)}function Kt(t){return function(){throw t}}var _n=function(t){throw new Error(t)};var Et=function(){var t={},n="Pure",e="Throw",r="Catch",o="Sync",a="Async",u="Bind",l="Bracket",d="Fork",s="Sequential",p="Map",b="Apply",_="Alt",y="Cons",c="Resume",D="Release",L="Finalizer",E="Finalized",h="Forked",T="Fiber",N="Thunk";function f(M,v,J,k){this.tag=M,this._1=v,this._2=J,this._3=k}function Q(M){var v=function(J,k,x){return new f(M,J,k,x)};return v.tag=M,v}function tt(M){return new f(n,void 0)}function Dt(M){try{M()}catch(v){setTimeout(function(){throw v},0)}}function mt(M,v,J){try{return v(J())}catch(k){return M(k)}}function $t(M,v,J){try{return v(J)()}catch(k){return J(M(k))(),tt}}var j=function(){var M=1024,v=0,J=0,k=new Array(M),x=!1;function g(){var G;for(x=!0;v!==0;)v--,G=k[J],k[J]=void 0,J=(J+1)%M,G();x=!1}return{isDraining:function(){return x},enqueue:function(G){var C,z;v===M&&(z=x,g(),x=z),k[(J+v)%M]=G,v++,x||g()}}}();function wt(M){var v={},J=0,k=0;return{register:function(x){var g=J++;x.onComplete({rethrow:!0,handler:function(G){return function(){k--,delete v[g]}}})(),v[g]=x,k++},isEmpty:function(){return k===0},killAll:function(x,g){return function(){if(k===0)return g();var G=0,C={};function z(B){C[B]=v[B].kill(x,function(X){return function(){delete C[B],G--,M.isLeft(X)&&M.fromLeft(X)&&setTimeout(function(){throw M.fromLeft(X)},0),G===0&&g()}})()}for(var et in v)v.hasOwnProperty(et)&&(G++,z(et));return v={},J=0,k=0,function(B){return new f(o,function(){for(var X in C)C.hasOwnProperty(X)&&C[X]()})}}}}}var st=0,V=1,vt=2,Gt=3,kt=4,ct=5,qt=6;function At(M,v,J){var k=0,x=st,g=J,G=null,C=null,z=null,et=null,B=null,X=0,Ut=0,ht=null,Ct=!0;function Pt(w){for(var S,O,W;;)switch(S=null,O=null,W=null,x){case vt:x=V;try{g=z(g),et===null?z=null:(z=et._1,et=et._2)}catch(it){x=ct,G=M.left(it),g=null}break;case Gt:M.isLeft(g)?(x=ct,G=g,g=null):z===null?x=ct:(x=vt,g=M.fromRight(g));break;case V:switch(g.tag){case u:z&&(et=new f(y,z,et)),z=g._2,x=V,g=g._1;break;case n:z===null?(x=ct,g=M.right(g._1)):(x=vt,g=g._1);break;case o:x=Gt,g=mt(M.left,M.right,g._1);break;case a:x=kt,g=$t(M.left,g._1,function(it){return function(){k===w&&(k++,j.enqueue(function(){k===w+1&&(x=Gt,g=it,Pt(k))}))}});return;case e:x=ct,G=M.left(g._1),g=null;break;case r:z===null?B=new f(y,g,B,C):B=new f(y,g,new f(y,new f(c,z,et),B,C),C),z=null,et=null,x=V,g=g._1;break;case l:X++,z===null?B=new f(y,g,B,C):B=new f(y,g,new f(y,new f(c,z,et),B,C),C),z=null,et=null,x=V,g=g._1;break;case d:x=Gt,S=At(M,v,g._2),v&&v.register(S),g._1&&S.run(),g=M.right(S);break;case s:x=V,g=Wr(M,v,g._1);break}break;case ct:if(z=null,et=null,B===null)x=qt,g=C||G||g;else switch(S=B._3,W=B._1,B=B._2,W.tag){case r:C&&C!==S&&X===0?x=ct:G&&(x=V,g=W._2(M.fromLeft(G)),G=null);break;case c:C&&C!==S&&X===0||G?x=ct:(z=W._1,et=W._2,x=vt,g=M.fromRight(g));break;case l:X--,G===null&&(O=M.fromRight(g),B=new f(y,new f(D,W._2,O),B,S),(C===S||X>0)&&(x=V,g=W._3(O)));break;case D:B=new f(y,new f(E,g,G),B,C),x=V,C&&C!==S&&X===0?g=W._1.killed(M.fromLeft(C))(W._2):G?g=W._1.failed(M.fromLeft(G))(W._2):g=W._1.completed(M.fromRight(g))(W._2),G=null,X++;break;case L:X++,B=new f(y,new f(E,g,G),B,C),x=V,g=W._1;break;case E:X--,x=ct,g=W._1,G=W._2;break}break;case qt:for(var K in ht)ht.hasOwnProperty(K)&&(Ct=Ct&&ht[K].rethrow,Dt(ht[K].handler(g)));ht=null,C&&G?setTimeout(function(){throw M.fromLeft(G)},0):M.isLeft(g)&&Ct&&setTimeout(function(){if(Ct)throw M.fromLeft(g)},0);return;case st:x=V;break;case kt:return}}function H(w){return function(){if(x===qt)return Ct=Ct&&w.rethrow,w.handler(g)(),function(){};var S=Ut++;return ht=ht||{},ht[S]=w,function(){ht!==null&&delete ht[S]}}}function F(w,S){return function(){if(x===qt)return S(M.right(void 0))(),function(){};var O=H({rethrow:!1,handler:function(){return S(M.right(void 0))}})();switch(x){case st:C=M.left(w),x=qt,g=C,Pt(k);break;case kt:C===null&&(C=M.left(w)),X===0&&(x===kt&&(B=new f(y,new f(L,g(w)),B,C)),x=ct,g=null,G=null,Pt(++k));break;default:C===null&&(C=M.left(w)),X===0&&(x=ct,g=null,G=null)}return O}}function P(w){return function(){var S=H({rethrow:!1,handler:w})();return x===st&&Pt(k),S}}return{kill:F,join:P,onComplete:H,isSuspended:function(){return x===st},run:function(){x===st&&(j.isDraining()?Pt(k):j.enqueue(function(){Pt(k)}))}}}function Or(M,v,J,k){var x=0,g={},G=0,C={},z=new Error("[ParAff] Early exit"),et=null,B=t;function X(H,F,P){var w=F,S=null,O=null,W=0,K={},it,an;t:for(;;)switch(it=null,w.tag){case h:if(w._3===t&&(it=g[w._1],K[W++]=it.kill(H,function(vr){return function(){W--,W===0&&P(vr)()}})),S===null)break t;w=S._2,O===null?S=null:(S=O._1,O=O._2);break;case p:w=w._2;break;case b:case _:S&&(O=new f(y,S,O)),S=w,w=w._1;break}if(W===0)P(M.right(void 0))();else for(an=0,it=W;an<it;an++)K[an]=K[an]();return K}function Ut(H,F,P){var w,S,O,W,K,it;for(M.isLeft(H)?(w=H,S=null):(S=H,w=null);;){if(O=null,W=null,K=null,it=null,et!==null)return;if(F===null){k(w||S)();return}if(F._3!==t)return;switch(F.tag){case p:w===null?(F._3=M.right(F._1(M.fromRight(S))),S=F._3):F._3=w;break;case b:if(O=F._1._3,W=F._2._3,w){if(F._3=w,K=!0,it=G++,C[it]=X(z,w===O?F._2:F._1,function(){return function(){delete C[it],K?K=!1:P===null?Ut(w,null,null):Ut(w,P._1,P._2)}}),K){K=!1;return}}else{if(O===t||W===t)return;S=M.right(M.fromRight(O)(M.fromRight(W))),F._3=S}break;case _:if(O=F._1._3,W=F._2._3,O===t&&M.isLeft(W)||W===t&&M.isLeft(O))return;if(O!==t&&M.isLeft(O)&&W!==t&&M.isLeft(W))w=S===O?W:O,S=null,F._3=w;else if(F._3=S,K=!0,it=G++,C[it]=X(z,S===O?F._2:F._1,function(){return function(){delete C[it],K?K=!1:P===null?Ut(S,null,null):Ut(S,P._1,P._2)}}),K){K=!1;return}break}P===null?F=null:(F=P._1,P=P._2)}}function ht(H){return function(F){return function(){delete g[H._1],H._3=F,Ut(F,H._2._1,H._2._2)}}}function Ct(){var H=V,F=J,P=null,w=null,S,O;t:for(;;)switch(S=null,O=null,H){case V:switch(F.tag){case p:P&&(w=new f(y,P,w)),P=new f(p,F._1,t,t),F=F._2;break;case b:P&&(w=new f(y,P,w)),P=new f(b,t,F._2,t),F=F._1;break;case _:P&&(w=new f(y,P,w)),P=new f(_,t,F._2,t),F=F._1;break;default:O=x++,H=ct,S=F,F=new f(h,O,new f(y,P,w),t),S=At(M,v,S),S.onComplete({rethrow:!1,handler:ht(F)})(),g[O]=S,v&&v.register(S)}break;case ct:if(P===null)break t;P._1===t?(P._1=F,H=V,F=P._2,P._2=t):(P._2=F,F=P,w===null?P=null:(P=w._1,w=w._2))}for(B=F,O=0;O<x;O++)g[O].run()}function Pt(H,F){et=M.left(H);var P;for(var w in C)if(C.hasOwnProperty(w)){P=C[w];for(w in P)P.hasOwnProperty(w)&&P[w]()}C=null;var S=X(H,B,F);return function(O){return new f(a,function(W){return function(){for(var K in S)S.hasOwnProperty(K)&&S[K]();return tt}})}}return Ct(),function(H){return new f(a,function(F){return function(){return Pt(H,F)}})}}function Wr(M,v,J){return new f(a,function(k){return function(){return Or(M,v,J,k)}})}return f.EMPTY=t,f.Pure=Q(n),f.Throw=Q(e),f.Catch=Q(r),f.Sync=Q(o),f.Async=Q(a),f.Bind=Q(u),f.Bracket=Q(l),f.Fork=Q(d),f.Seq=Q(s),f.ParMap=Q(p),f.ParApply=Q(b),f.ParAlt=Q(_),f.Fiber=At,f.Supervisor=wt,f.Scheduler=j,f.nonCanceler=tt,f}(),Cn=Et.Pure,Vo=Et.Throw;function rn(t){return function(n){return n.tag===Et.Pure.tag?Et.Pure(t(n._1)):Et.Bind(n,function(e){return Et.Pure(t(e))})}}function Ot(t){return function(n){return Et.Bind(t,n)}}var Wt=Et.Sync;var $e=Et.Async;function le(t,n){return function(){return Et.Fiber(t,null,n)}}var Zo=Et.Seq;var ta={map:rn};var Ye={isLeft:t=>{if(t.tag===0)return!0;if(t.tag===1)return!1;i()},fromLeft:t=>{if(t.tag===0)return t._1;if(t.tag===1)return _n("unsafeFromLeft: Right");i()},fromRight:t=>{if(t.tag===1)return t._1;if(t.tag===0)return _n("unsafeFromRight: Left");i()},left:In,right:cn};var na={Applicative0:()=>Ve,Bind1:()=>ea},ea={bind:Ot,Apply0:()=>Xe},Xe={apply:t=>n=>Ot(t)(e=>Ot(n)(r=>Ve.pure(e(r)))),Functor0:()=>ta},Ve={pure:Cn,Apply0:()=>Xe};var Ze={tailRecM:t=>{let n=e=>Ot(t(e))(r=>{if(r.tag===1)return Cn(r._1);if(r.tag===0)return n(r._1);i()});return n},Monad0:()=>na};var tr=(()=>{let t=Cn();return n=>t})();var Pn=function(t){return function(){console.info(t)}};var or=t=>n=>e=>{let r=ue(yt,q,(t._2*e.width|0)+t._1|0,n,e.array);return r.tag===1?R(1,{width:e.width,array:r._1}):q},ar=t=>{let n=Be(t);return e=>r=>o=>({...o,array:n(e.map(a=>$((a._1._2*o.width|0)+a._1._1|0,a._2))(r))(o.array)})};var pe=t=>n=>{if(n.tag===1&&t(n._1)){let e=pe(t)(n._2);return{init:m(1,n._1,e.init),rest:e.rest}}return{init:I,rest:n}};var me=t=>{let n=d=>s=>{if(d.tag===1){if(s.tag===1)return t(d._1)(s._1)===1?m(1,s._1,n(d)(s._2)):m(1,d._1,n(d._2)(s));if(s.tag===0)return d;i()}if(d.tag===0)return s;if(s.tag===0)return d;i()},e=d=>d.tag===1&&d._2.tag===1?m(1,n(d._1)(d._2._1),e(d._2._2)):d,r=d=>{let s=d,p=!0,b;for(;p;){let _=s;if(_.tag===1&&_._2.tag===0){p=!1,b=_._1;continue}s=e(_)}return b},o=(d,s,p,b)=>{let _=d,y=s,c=p,D=b,L=!0,E;for(;L;){if(_===0){let h=y;if(h.tag===1&&h._2.tag===1){if(t(h._1)(h._2._1)===1){_=1,y=h._2._1,c=m(1,h._1,I),D=h._2._2;continue}let T=h._1;_=2,y=h._2._1,c=N=>m(1,T,N),D=h._2._2;continue}L=!1,E=m(1,h,I);continue}if(_===1){let h=y,T=c,N=D;if(N.tag===1&&t(h)(N._1)===1){_=1,y=N._1,c=m(1,h,T),D=N._2;continue}L=!1,E=m(1,m(1,h,T),a(N));continue}if(_===2){let h=y,T=c,N=D;if(N.tag===1&&(()=>{let f=t(h)(N._1);return f===0||f!==1})()){_=2,y=N._1,c=f=>T(m(1,h,f)),D=N._2;continue}L=!1,E=m(1,T(m(1,h,I)),a(N))}}return E},a=d=>o(0,d),u=d=>s=>p=>o(1,d,s,p),l=d=>s=>p=>o(2,d,s,p);return d=>r(a(d))};var Rn=t=>{let n=t,e=!0,r;for(;e;){let o=n;if(o.tag===1){if(o._2.tag===0){e=!1,r=R(1,o._1);continue}n=o._2;continue}e=!1,r=q}return r};var On=t=>n=>{if(n.tag===0)return I;if(n.tag===1){let e=pe(t(n._1))(n._2);return m(1,Tt(n._1,e.init),On(t)(e.rest))}i()};var ge=t=>n=>{let e=t,r=n,o=!0,a;for(;o;){let u=e,l=r;if(u<1){o=!1,a=l;continue}if(l.tag===0){o=!1,a=I;continue}if(l.tag===1){e=u-1|0,r=l._2;continue}i()}return a};var _e=t=>{if(t._2.tag===1){if(t._2._2.tag===0)return t._2._1;if(Rn(t._2._2).tag===0)return t._1;if(Rn(t._2._2).tag===1)return Rn(t._2._2)._1;i()}return t._1};var ur=t=>t._1;var sr=t=>{let e=(r=>o=>{let a=r,u=o,l=!0,d;for(;l;){let s=a,p=u;if(p.tag===0){let b=_=>y=>{let c=_,D=y,L=!0,E;for(;L;){let h=c,T=D;if(T.tag===0){L=!1,E=h;continue}if(T.tag===1){c=m(1,T._1,h),D=T._2;continue}i()}return E};l=!1,d=b(I)(s);continue}if(p.tag===1){if(t(p._1)){a=m(1,p._1,s),u=p._2;continue}a=s,u=p._2;continue}i()}return d})(I);return r=>e(m(1,r._1,r._2))};var cr=t=>{let n=t.foldr(Lt)(I);return e=>r=>Tt(e._1,ft.foldr(Lt)(n(r))(e._2))};var It=(t,n,e,r,o,a,u)=>({tag:t,_1:n,_2:e,_3:r,_4:o,_5:a,_6:u});var Wn=(t,n,e)=>({_1:t,_2:n,_3:e}),dr=(t,n,e)=>({_1:t,_2:n,_3:e});var dt=It(0);var Y=(t,n,e,r)=>{if(e.tag===0){if(r.tag===0)return It(1,1,1,t,n,e,r);if(r.tag===1)return It(1,1+r._1|0,1+r._2|0,t,n,e,r);i()}if(e.tag===1){if(r.tag===0)return It(1,1+e._1|0,1+e._2|0,t,n,e,r);if(r.tag===1)return It(1,e._1>r._1?1+e._1|0:1+r._1|0,(1+e._2|0)+r._2|0,t,n,e,r)}i()};var Ft=(t,n,e,r)=>{if(e.tag===0)return r.tag===0?It(1,1,1,t,n,dt,dt):r.tag===1&&r._1>1?r._5.tag===1&&(()=>{if(r._6.tag===0)return r._5._1>0;if(r._6.tag===1)return r._5._1>r._6._1;i()})()?Y(r._5._3,r._5._4,Y(t,n,e,r._5._5),Y(r._3,r._4,r._5._6,r._6)):Y(r._3,r._4,Y(t,n,e,r._5),r._6):Y(t,n,e,r);if(e.tag===1)return r.tag===1?r._1>(e._1+1|0)?r._5.tag===1&&(()=>{if(r._6.tag===0)return r._5._1>0;if(r._6.tag===1)return r._5._1>r._6._1;i()})()?Y(r._5._3,r._5._4,Y(t,n,e,r._5._5),Y(r._3,r._4,r._5._6,r._6)):Y(r._3,r._4,Y(t,n,e,r._5),r._6):e._1>(r._1+1|0)?e._6.tag===1&&(()=>{if(e._5.tag===0)return 0<=e._6._1;if(e._5.tag===1)return e._5._1<=e._6._1;i()})()?Y(e._6._3,e._6._4,Y(e._3,e._4,e._5,e._6._5),Y(t,n,e._6._6,r)):Y(e._3,e._4,e._5,Y(t,n,e._6,r)):Y(t,n,e,r):r.tag===0&&e._1>1?e._6.tag===1&&(()=>{if(e._5.tag===0)return 0<=e._6._1;if(e._5.tag===1)return e._5._1<=e._6._1;i()})()?Y(e._6._3,e._6._4,Y(e._3,e._4,e._5,e._6._5),Y(t,n,e._6._6,r)):Y(e._3,e._4,e._5,Y(t,n,e._6,r)):Y(t,n,e,r);i()},vn=(t,n,e)=>{if(e.tag===0)return Wn(q,dt,dt);if(e.tag===1){let r=t(n)(e._3);if(r===0){let o=vn(t,n,e._5);return Wn(o._1,o._2,Ft(e._3,e._4,o._3,e._6))}if(r===1){let o=vn(t,n,e._6);return Wn(o._1,Ft(e._3,e._4,e._5,o._2),o._3)}if(r===2)return Wn(R(1,e._4),e._5,e._6)}i()},lr=(t,n,e,r)=>{if(r.tag===0)return dr(t,n,e);if(r.tag===1){let o=lr(r._3,r._4,r._5,r._6);return dr(o._1,o._2,Ft(t,n,e,o._3))}i()},fr=(t,n)=>{if(t.tag===0)return n;if(t.tag===1){let e=lr(t._3,t._4,t._5,t._6);return Ft(e._1,e._2,e._3,n)}i()},yn=(t,n,e)=>{if(n.tag===0)return dt;if(e.tag===0)return n;if(e.tag===1){let r=vn(t,e._3,n);return fr(yn(t,r._2,e._5),yn(t,r._3,e._6))}i()};var Dn=(t,n,e,r)=>{if(e.tag===0)return r;if(r.tag===0)return e;if(r.tag===1){let o=vn(t,r._3,e),a=Dn(t,n,o._2,r._5),u=Dn(t,n,o._3,r._6);if(o._1.tag===1)return Ft(r._3,n(o._1._1)(r._4),a,u);if(o._1.tag===0)return Ft(r._3,r._4,a,u)}i()};var on=t=>n=>e=>{let r=o=>{if(o.tag===0)return It(1,1,1,n,e,dt,dt);if(o.tag===1){let a=t.compare(n)(o._3);if(a===0)return Ft(o._3,o._4,r(o._5),o._6);if(a===1)return Ft(o._3,o._4,o._5,r(o._6));if(a===2)return It(1,o._1,o._2,n,e,o._5,o._6)}i()};return r};var Gn=t=>n=>{let e=r=>{if(r.tag===0)return dt;if(r.tag===1)return n(r._3)?Ft(r._3,r._4,e(r._5),e(r._6)):fr(e(r._5),e(r._6));i()};return e};var mr={foldMap:t=>{let n=ft.foldMap(t);return e=>{let r=n(e);return o=>r((()=>{let a=(u,l)=>{if(u.tag===0)return l;if(u.tag===1)return a(u._5,m(1,u._3,a(u._6,l)));i()};return a(o,I)})())}},foldl:t=>n=>{let r=(o=>a=>{let u=o,l=a,d=!0,s;for(;d;){let p=u,b=l;if(b.tag===0){d=!1,s=p;continue}if(b.tag===1){u=t(p)(b._1),l=b._2;continue}i()}return s})(n);return o=>r((()=>{let a=(u,l)=>{if(u.tag===0)return l;if(u.tag===1)return a(u._5,m(1,u._3,a(u._6,l)));i()};return a(o,I)})())},foldr:t=>n=>{let e=ft.foldr(t)(n);return r=>e((()=>{let o=(a,u)=>{if(a.tag===0)return u;if(a.tag===1)return o(a._5,m(1,a._3,o(a._6,u)));i()};return o(r,I)})())}};var gr=t=>t,Yt=gr(0),kn=gr(1);var nt=(t,n,e)=>({tag:t,_1:n,_2:e});var Nt=(()=>{let t={eq:n=>e=>n._1===e._1&&n._2===e._2};return{compare:n=>e=>{let r=ln.compare(n._1)(e._1);return r===0?rt:r===1?ot:ln.compare(n._2)(e._2)},Eq0:()=>t}})(),Da=(()=>{let n=(e=>r=>{let o=e,a=r,u=!0,l;for(;u;){let d=o,s=a;if(s.tag===0){u=!1,l=d;continue}if(s.tag===1){o=on(Nt)(s._1)()(d),a=s._2;continue}i()}return l})(dt);return e=>n((()=>{let r=(o,a)=>{if(o.tag===0)return a;if(o.tag===1)return r(o._5,m(1,o._3,r(o._6,a)));i()};return r(e,I)})())})(),ha=(n=>e=>{let r=n,o=e,a=!0,u;for(;a;){let l=r,d=o;if(d.tag===0){a=!1,u=l;continue}if(d.tag===1){r=on(Nt)(d._1)()(l),o=d._2;continue}i()}return u})(dt),Un=mr.foldr(Lt)(I),ba=t=>(e=>r=>{let o=e,a=r,u=!0,l;for(;u;){let d=o,s=a;if(s.tag===0){u=!1,l=d;continue}if(s.tag===1){o=on(Nt)(s._1)()(d),a=s._2;continue}i()}return l})(on(Nt)(t._1)()(dt))(t._2),Ta=t=>e=>{let r=e,o=!0,a;for(;o;){let u=r;if(u.tag===0){o=!1,a=!1;continue}if(u.tag===1){let l=Nt.compare(t)(u._3);if(l===0){r=u._5;continue}if(l===1){r=u._6;continue}if(l===2){o=!1,a=!0;continue}}i()}return a},Ma=cr(wn),hn=ar(ft)(de),jn=nt(0);var Bn={eq:t=>n=>t.tag===0?n.tag===0:t.tag===1?n.tag===1&&(t._1===0?n._1===0:t._1===1&&n._1===1):t.tag===2?n.tag===2&&(t._1===0?n._1===0:t._1===1&&n._1===1)&&t._2===n._2:t.tag===3&&n.tag===3&&(t._1===0?n._1===0:t._1===1&&n._1===1)},he=t=>n=>t.tag===0?n.tag===0:t.tag===1&&n.tag===1&&Bn.eq(t._1)(n._1);var Ea=t=>{let n=xt(ur);return e=>n(On(t.eq)(e))},Ia=Ea(Sn);var be=t=>n=>n._1>=0&&n._2>=0&&n._1<t.cells.width&&n._2<bt(t.cells.array.length,t.cells.width)&&(()=>{let e=(n._2*t.cells.width|0)+n._1|0;return e>=0&&e<t.cells.array.length&&(t.cells.array[e].tag===0||t.cells.array[e].tag===3)})(),La=t=>n=>e=>he((()=>{if(n._1>=0&&n._2>=0&&n._1<t.cells.width&&n._2<bt(t.cells.array.length,t.cells.width)){let r=(n._2*t.cells.width|0)+n._1|0;if(r>=0&&r<t.cells.array.length)return R(1,t.cells.array[r])}return q})())(R(1,nt(1,e))),pt=t=>n=>e=>n._1>=0&&n._2>=0&&n._1<t.cells.width&&n._2<bt(t.cells.array.length,t.cells.width)&&(()=>{let r=(n._2*t.cells.width|0)+n._1|0;return r>=0&&r<t.cells.array.length&&((t.cells.array[r].tag===1||t.cells.array[r].tag===2)&&(t.cells.array[r]._1===0?e===0:t.cells.array[r]._1===1&&e===1))})();var yr=t=>n=>e=>he((()=>{if(n._1>=0&&n._2>=0&&n._1<t.cells.width&&n._2<bt(t.cells.array.length,t.cells.width)){let r=(n._2*t.cells.width|0)+n._1|0;if(r>=0&&r<t.cells.array.length)return R(1,t.cells.array[r])}return q})())(R(1,nt(3,e))),xa=t=>n=>e=>he((()=>{if(n._1>=0&&n._2>=0&&n._1<t.cells.width&&n._2<bt(t.cells.array.length,t.cells.width)){let r=(n._2*t.cells.width|0)+n._1|0;if(r>=0&&r<t.cells.array.length)return R(1,t.cells.array[r])}return q})())(R(1,nt(2,(()=>{if(e===0)return kn;if(e===1)return Yt;i()})(),!0)));var wa=()=>t=>n=>{let e=n._2-t._2|0,r=n._1-t._1|0;if(e===-1){if(r===-1)return $(n._1+1|0,n._2);if(r===0)return $(n._1+1|0,n._2);if(r===1)return $(n._1,n._2+1|0);i()}if(e===0){if(r===-1)return $(n._1,n._2-1|0);if(r===1)return $(n._1,n._2+1|0);i()}if(e===1){if(r===-1)return $(n._1,n._2-1|0);if(r===0)return $(n._1-1|0,n._2);if(r===1)return $(n._1-1|0,n._2)}i()};var Sa=()=>t=>n=>{let e=n._2-t._2|0,r=n._1-t._1|0;if(e===-1){if(r===-1)return $(t._1+1|0,t._2-1|0);if(r===0)return $(t._1+1|0,t._2+1|0);if(r===1)return $(t._1+1|0,t._2+1|0);i()}if(e===0){if(r===-1)return $(t._1+1|0,t._2-1|0);if(r===1)return $(t._1-1|0,t._2+1|0);i()}if(e===1){if(r===-1)return $(t._1-1|0,t._2-1|0);if(r===0)return $(t._1-1|0,t._2-1|0);if(r===1)return $(t._1-1|0,t._2+1|0)}i()},Dr=t=>n=>e=>{let r=(()=>{if(!pt(t)($(n._1-1|0,n._2))(e)){if(pt(t)($(n._1-1|0,n._2-1|0))(e))return m(1,$($(n._1-1|0,n._2-1|0),$(n._1-1|0,n._2)),I);if(pt(t)($(n._1,n._2-1|0))(e))return m(1,$($(n._1,n._2-1|0),$(n._1-1|0,n._2)),I)}return I})(),o=(()=>{if(!pt(t)($(n._1,n._2+1|0))(e)){if(pt(t)($(n._1-1|0,n._2+1|0))(e))return m(1,$($(n._1-1|0,n._2+1|0),$(n._1,n._2+1|0)),r);if(pt(t)($(n._1-1|0,n._2))(e))return m(1,$($(n._1-1|0,n._2),$(n._1,n._2+1|0)),r)}return r})(),a=(()=>{if(!pt(t)($(n._1+1|0,n._2))(e)){if(pt(t)($(n._1+1|0,n._2+1|0))(e))return m(1,$($(n._1+1|0,n._2+1|0),$(n._1+1|0,n._2)),o);if(pt(t)($(n._1,n._2+1|0))(e))return m(1,$($(n._1,n._2+1|0),$(n._1+1|0,n._2)),o)}return o})();if(!pt(t)($(n._1,n._2-1|0))(e)){if(pt(t)($(n._1+1|0,n._2-1|0))(e))return m(1,$($(n._1+1|0,n._2-1|0),$(n._1,n._2-1|0)),a);if(pt(t)($(n._1+1|0,n._2))(e))return m(1,$($(n._1+1|0,n._2),$(n._1,n._2-1|0)),a)}return a},hr=t=>n=>e=>(o=>a=>{let u=o,l=a,d=!0,s;for(;d;){let p=u,b=l;if(b.tag===0){d=!1,s=p;continue}u=Dn(Nt.compare,un,p,b),l=Gn(Nt)(e)(Da(yn(Nt.compare,ha((()=>{let y=(c=>D=>{let L=c,E=D,h=!0,T;for(;h;){let N=L,f=E;if(f.tag===0){let Q=tt=>Dt=>{let mt=tt,$t=Dt,j=!0,wt;for(;j;){let st=mt,V=$t;if(V.tag===0){j=!1,wt=st;continue}if(V.tag===1){mt=m(1,V._1,st),$t=V._2;continue}i()}return wt};h=!1,T=Q(I)(N);continue}if(f.tag===1){if(f._1._1>=0&&f._1._2>=0&&f._1._1<t.cells.width&&f._1._2<bt(t.cells.array.length,t.cells.width)){L=m(1,f._1,N),E=f._2;continue}L=N,E=f._2;continue}i()}return T})(I);return gn.bind(Un(b))(c=>y(m(1,$(c._1,c._2+1|0),m(1,$(c._1,c._2-1|0),m(1,$(c._1-1|0,c._2),m(1,$(c._1+1|0,c._2),I))))))})()),p)))}return s})(dt)(It(1,1,1,n,void 0,dt,dt)),br=t=>n=>e=>hr(t)(n)((()=>{let r=ba(e);return o=>!Ta(o)(r)})()),De=t=>{let e=(r=>o=>{let a=r,u=o,l=!0,d;for(;l;){let s=a,p=u;if(p.tag===0){let b=_=>y=>{let c=_,D=y,L=!0,E;for(;L;){let h=c,T=D;if(T.tag===0){L=!1,E=h;continue}if(T.tag===1){c=m(1,T._1,h),D=T._2;continue}i()}return E};l=!1,d=b(I)(s);continue}if(p.tag===1){if(t(p._1)){a=m(1,p._1,s),u=p._2;continue}a=s,u=p._2;continue}i()}return d})(I);return r=>(a=>u=>{let l=a,d=u,s=!0,p;for(;s;){let b=l,_=d;if(_.tag===0){s=!1,p=b;continue}if(_.tag===1){l=b+1|0,d=_._2;continue}i()}return p})(0)(e(r))},Fa=t=>n=>{let e=t._1,r=Ia(xt(nn)(sr(a=>a._1<=e)(n))),o=(()=>{if(r.tag===0)return q;if(r.tag===1)return R(1,Tt(r._1,r._2));i()})();if(o.tag===1){let a=_e(o._1)===t._2?Ma(o._1)((()=>{let u=o._1._1===t._2?o._1._2:m(1,o._1._1,o._1._2);if(u.tag===0)return q;if(u.tag===1)return R(1,u._1);i()})()):o._1._1===t._2?Tt(_e(o._1),m(1,o._1._1,o._1._2)):o._1;return(De(u=>u._2._1===t._2&&(u._1<u._2._1&&u._2._2>u._2._1||u._1>u._2._1&&u._2._2<u._2._1))((()=>{let u=d=>s=>p=>{let b=d,_=s,y=p,c=!0,D;for(;c;){let L=b,E=_,h=y;if(L.tag===0){c=!1,D=h;continue}if(E.tag===0){c=!1,D=h;continue}if(L.tag===1&&E.tag===1){b=L._2,_=E._2,y=m(1,$(L._1,E._1),h);continue}i()}return D};return(d=>s=>{let p=d,b=s,_=!0,y;for(;_;){let c=p,D=b;if(D.tag===0){_=!1,y=c;continue}if(D.tag===1){p=m(1,D._1,c),b=D._2;continue}i()}return y})(I)(u(m(1,a._1,a._2))((()=>{let d=p=>b=>_=>{let y=p,c=b,D=_,L=!0,E;for(;L;){let h=y,T=c,N=D;if(h.tag===0){L=!1,E=N;continue}if(T.tag===0){L=!1,E=N;continue}if(h.tag===1&&T.tag===1){y=h._2,c=T._2,D=m(1,$(h._1,T._1),N);continue}i()}return E};return(p=>b=>{let _=p,y=b,c=!0,D;for(;c;){let L=_,E=y;if(E.tag===0){c=!1,D=L;continue}if(E.tag===1){_=m(1,E._1,L),y=E._2;continue}i()}return D})(I)(d(a._2)(ge(1)(a._2))(I))})())(I))})())&1)!==0}if(o.tag===0)return!1;i()},Tr=t=>n=>e=>r=>{let o=l=>d=>{let s=l,p=d,b=!0,_;for(;b;){let y=s,c=p;if(c._1===n._1&&c._2===n._2){b=!1,_=c;continue}if(pt(t)(c)(r)){b=!1,_=c;continue}s=y,p=wa()(y)(c)}return _},u=(l=>d=>{let s=l,p=d,b=!0,_;for(;b;){let y=s,c=p,D=o(c._1)(Sa()(c._1)(y));if(D._1===n._1&&D._2===n._2){b=!1,_=c;continue}s=c._1,p=(()=>{let L=Tt(D,m(1,c._1,c._2)),h=(T=>{let N=T,f=!0,Q;for(;f;){let tt=N;if(tt.tag===1&&!(tt._1._1===D._1&&tt._1._2===D._2)){N=tt._2;continue}f=!1,Q=tt}return Q})(m(1,c._1,c._2));if(h.tag===0)return L;if(h.tag===1)return Tt(h._1,h._2);i()})()}return _})(n)(Tt(e,m(1,n,I)));return(d=>s=>{let p=d,b=s,_=!0,y;for(;_;){let c=p,D=b;if(c._2.tag===0){_=!1,y=D+((c._1._1*u._1._2|0)-(c._1._2*u._1._1|0)|0)|0;continue}if(c._2.tag===1){p=Tt(c._2._1,c._2._2),b=D+((c._1._1*c._2._1._2|0)-(c._1._2*c._2._1._1|0)|0)|0;continue}i()}return y})(u)(0)>0?R(1,u):q},Na=t=>n=>e=>{let o=(a=>{let u=a,l=!0,d;for(;l;){let s=u;if(!pt(t)(s)(e)){u=$(s._1-1|0,s._2);continue}let b=(_=>y=>{let c=_,D=y,L=!0,E;for(;L;){let h=c,T=D;if(T.tag===0){L=!1,E=h;continue}if(T.tag===1){c=h.tag===0&&Fa(n)(T._1)?R(1,T._1):h,D=T._2;continue}i()}return E})(q)((y=>c=>{let D=y,L=c,E=!0,h;for(;E;){let T=D,N=L;if(N.tag===0){let f=Q=>tt=>{let Dt=Q,mt=tt,$t=!0,j;for(;$t;){let wt=Dt,st=mt;if(st.tag===0){$t=!1,j=wt;continue}if(st.tag===1){Dt=m(1,st._1,wt),mt=st._2;continue}i()}return j};E=!1,h=f(I)(T);continue}if(N.tag===1){let f=Tr(t)(s)(N._1._1)(e);if(f.tag===0){D=T,L=N._2;continue}if(f.tag===1){D=m(1,f._1,T),L=N._2;continue}}i()}return h})(I)(Dr(t)(s)(e)));if(b.tag===0){u=$(s._1-1|0,s._2);continue}if(b.tag===1){l=!1,d=b._1;continue}i()}return d})($(n._1-1|0,n._2));return $(o,Gn(Nt)(a=>yr(t)(a)(e))(br(t)(n)(o)))},qa=t=>n=>e=>be(e)(t)?R(1,(()=>{let r=(()=>{if(t._1>=0&&t._2>=0&&t._1<e.cells.width&&t._2<bt(e.cells.array.length,e.cells.width))return e.cells.array[(t._2*e.cells.width|0)+t._1|0];i()})(),o=m(1,$(t,n),e.moves),a=(()=>{if(n===0)return kn;if(n===1)return Yt;i()})();if(Bn.eq(r)(nt(3,n)))return{...e,moves:o,lastSurroundPlayer:n,lastSurroundChains:I,cells:hn(m(1,$(t,nt(1,n)),I))(e.cells)};let l=(d=>s=>{let p=d,b=s,_=!0,y;for(;_;){let c=p,D=b;if(D.tag===0){_=!1,y=c;continue}if(D.tag===1){p=(()=>{let L=Un(br(c)(D._1._2)(D._1._1)),E=De(T=>La(c)(T)(a))(L),h=De(T=>xa(c)(T)(n))(L);return E>0?{...c,scoreRed:n===0?c.scoreRed+E|0:c.scoreRed-h|0,scoreBlack:n===1?c.scoreBlack+E|0:c.scoreBlack-h|0,lastSurroundChains:m(1,D._1._1,c.lastSurroundChains),cells:hn(xt(T=>$(T,(()=>{let N=(()=>{if(T._1>=0&&T._2>=0&&T._1<e.cells.width&&T._2<bt(e.cells.array.length,e.cells.width))return e.cells.array[(T._2*e.cells.width|0)+T._1|0];i()})();if(N.tag===0)return nt(2,n,!1);if(N.tag===1)return(N._1===0?n===0:N._1===1&&n===1)?nt(1,N._1):nt(2,n,!0);if(N.tag===2)return(N._1===0?n===0:N._1===1&&n===1)?nt(2,N._1,N._2):N._2?nt(1,n):nt(2,n,!1);if(N.tag===3)return nt(2,n,!1);i()})()))(L))(c.cells)}:{...c,cells:hn(xt(T=>$(T,nt(3,n)))((N=>f=>{let Q=N,tt=f,Dt=!0,mt;for(;Dt;){let $t=Q,j=tt;if(j.tag===0){let wt=st=>V=>{let vt=st,Gt=V,kt=!0,ct;for(;kt;){let qt=vt,At=Gt;if(At.tag===0){kt=!1,ct=qt;continue}if(At.tag===1){vt=m(1,At._1,qt),Gt=At._2;continue}i()}return ct};Dt=!1,mt=wt(I)($t);continue}if(j.tag===1){if(Bn.eq((()=>{if(j._1._1>=0&&j._1._2>=0&&j._1._1<c.cells.width&&j._1._2<bt(c.cells.array.length,c.cells.width))return c.cells.array[(j._1._2*c.cells.width|0)+j._1._1|0];i()})())(jn)){Q=m(1,j._1,$t),tt=j._2;continue}Q=$t,tt=j._2;continue}i()}return mt})(I)(L)))(c.cells)}})(),b=D._2;continue}i()}return y})({...e,lastSurroundPlayer:n,lastSurroundChains:I})(me(d=>{let s=d._1;return p=>ln.compare(1+(_=>y=>{let c=_,D=y,L=!0,E;for(;L;){let h=c,T=D;if(T.tag===0){L=!1,E=h;continue}if(T.tag===1){c=h+1|0,D=T._2;continue}i()}return E})(0)(s._2)|0)(1+(_=>y=>{let c=_,D=y,L=!0,E;for(;L;){let h=c,T=D;if(T.tag===0){L=!1,E=h;continue}if(T.tag===1){c=h+1|0,D=T._2;continue}i()}return E})(0)(p._1._2)|0)})(gn.bind(Dr(e)(t)(n))(d=>{let s=zt(d._2);return(b=>_=>{let y=b,c=_,D=!0,L;for(;D;){let E=y,h=c;if(E.tag===1){y=q,c=m(1,E._1,h);continue}let T=N=>f=>{let Q=N,tt=f,Dt=!0,mt;for(;Dt;){let $t=Q,j=tt;if(j.tag===0){Dt=!1,mt=$t;continue}if(j.tag===1){Q=m(1,j._1,$t),tt=j._2;continue}i()}return mt};D=!1,L=T(I)(h)}return L})((()=>{let b=Tr(e)(t)(d._1)(n);return b.tag===1?R(1,(()=>{let _=s(b._1);return $(_._2,_._1)})()):q})())(I)})));if(Bn.eq(r)(nt(3,a))){let d=hr(l)(t)(p=>yr(l)(p)(a));if(l.lastSurroundChains.tag!==0)return{...l,moves:o,cells:hn(ft.foldr(Lt)(m(1,$(t,nt(1,n)),I))(xt(p=>$(p,jn))(Un(d))))(l.cells)};let s=Na(e)(t)(a);return{...l,scoreRed:n===0?e.scoreRed:e.scoreRed+1|0,scoreBlack:n===1?e.scoreBlack:e.scoreBlack+1|0,moves:o,lastSurroundPlayer:a,lastSurroundChains:m(1,s._1,I),cells:hn(ft.foldr(Lt)(m(1,$(t,nt(2,a,!0)),I))(xt(p=>$(p,nt(2,a,!1)))(Un(s._2))))(e.cells)}}return{...l,moves:o,cells:(()=>{let d=or(t)(nt(1,n))(l.cells);if(d.tag===0)return l.cells;if(d.tag===1)return d._1;i()})()}})()):q,Mr=t=>n=>qa(t)((()=>{if(n.moves.tag===0)return Yt;if(n.moves.tag===1){if(n.moves._1._2===0)return kn;if(n.moves._1._2===1)return Yt}i()})())(n);function Er(t){return function(n){var e=[];for(var r in n)hasOwnProperty.call(n,r)&&e.push(t(r)(n[r]));return e}}var Hf=Object.keys||Er(function(t){return function(){return t}});var Ir=t=>{let n=t.foldr;return e=>{let r={};for(let o of ie(n,e))r[o._1]=o._2;return r}};import Z from"process";var Ga=Z.abort?()=>Z.abort():null;var ka=Z.channel&&Z.channel.ref?()=>Z.channel.ref():null,Ua=Z.channel&&Z.channel.unref?()=>Z.channel.unref():null;var Cp=Z.debugPort,Ba=Z.disconnect?()=>Z.disconnect():null;var Pp=Z.pid,ja=Z.platform,Rp=Z.ppid;var Te=Z.stdin,Me=Z.stdout,Op=Z.stderr,Wp=Z.stdinIsTTY,vp=Z.stdoutIsTTY,Gp=Z.stderrIsTTY;var kp=Z.version;var Fr=Ir(Qt);import Ha from"node:readline";var Nr=t=>Ha.createInterface({input:t.input,output:t.output,completer:t.completer&&(n=>{let e=t.completer(n)();return[e.completions,e.matched]}),terminal:t.terminal,history:t.history,historySize:t.historySize,removeHistoryDuplicates:t.removeHistoryDuplicates,prompt:t.prompt,crlfDelay:t.crlfDelay,escapeCodeTimeout:t.escapeCodeTimeout,tabSize:t.tabSize,signal:t.signal});var Ie=(t,n,e)=>t.question(n,e);var qr=t=>()=>({completions:[],matched:t});var Ar=t=>n=>{let e=Fr([...n,$("input",t)]);return()=>Nr(e)};var Pr=t=>n=>$e(e=>()=>(Ie(n,t,r=>e(Mt(1,r))()),tr));var ni=t=>n=>Xt(pn(0,t-1|0))(e=>Xt(pn(0,n-1|0))(r=>[$(e,r)])),Rr=(()=>{let t=Ar(Te)([$("output",Me),$("completer",qr)]);return()=>{let n=t(),e={scoreRed:0,scoreBlack:0,moves:I,lastSurroundPlayer:Yt,lastSurroundChains:I,cells:{width:20,array:mn(400,jn)}};le(Ye,Ze.tailRecM(o=>Ot(rn(Je)(Pr("")(n)))(a=>{if(a==="")return se(be(o),ni(20)(20))?Wt(Kt(Ht("field is not fully occupied"))):rn(l=>dn(0,e))(Wt(Pn("")));let u=ze(" ")(a);if(u.length===2){let l=ce(u[0]),d=(()=>{if(l.tag===1){let s=ce(u[1]);if(s.tag===1)return Mr($(l._1,s._1))(o);if(s.tag===0)return q;i()}if(l.tag===0)return q;i()})();if(d.tag===0)return Wt(Kt(Ht("wrong pos")));if(d.tag===1){let s=d._1;return rn(p=>dn(0,s))(Wt(Pn(Vt(s.scoreRed)+" "+Vt(s.scoreBlack))))}i()}return Wt(Kt(Ht("wrong input")))}))(e))().run()}})();Rr();
